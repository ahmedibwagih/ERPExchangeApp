<app-generic-alert   *ngIf="showAlert" [message]="alertMessage" [type]="alertType" (close)="onCloseAlert()"></app-generic-alert>

<mat-card>
  <mat-card-header  fxLayout="row" fxLayoutAlign="center center">
    <mat-card-title>المستخدمين</mat-card-title>
  </mat-card-header>

    <!-- <mat-card-title>Add/Edit User</mat-card-title> -->
    <!-- <form #userForm="ngForm" (ngSubmit)="submitForm()">
      <mat-form-field>
        <input matInput placeholder="User Name" name="userName" [(ngModel)]="user.userName" required>
        <mat-error *ngIf="userForm.controls['userName'].invalid">User Name is required</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Full Name" name="fullName" [(ngModel)]="user.fullName" required>
        <mat-error *ngIf="userForm.controls['fullName'].invalid">Full Name is required</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="email" placeholder="Email" name="email" [(ngModel)]="user.email" required>
        <mat-error *ngIf="userForm.controls['email'].invalid">Email is required</mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Phone Number" name="phoneNumber" [(ngModel)]="user.phoneNumber" required>
        <mat-error *ngIf="userForm.controls['phoneNumber'].invalid">Phone Number is required</mat-error>
      </mat-form-field>
      <button mat-raised-button color="primary" type="submit">Submit</button>
    </form> -->
 
    <mat-card-content  fxLayout="column" fxLayoutAlign="end center" style="direction: rtl;">
  <mat-table [dataSource]="users">
    <ng-container matColumnDef="userName">
      <mat-header-cell *matHeaderCellDef> اسم المستخدم </mat-header-cell>
      <mat-cell *matCellDef="let user"> {{user.userName}} </mat-cell>
    </ng-container>
  
    <ng-container matColumnDef="fullName">
      <mat-header-cell *matHeaderCellDef> الاسم بالكامل </mat-header-cell>
      <mat-cell *matCellDef="let user"> {{user.fullName}} </mat-cell>
    </ng-container>
  
    <ng-container matColumnDef="email">
      <mat-header-cell *matHeaderCellDef> البريد الالكتروني </mat-header-cell>
      <mat-cell *matCellDef="let user"> {{user.email}} </mat-cell>
    </ng-container>
  
    <ng-container matColumnDef="phoneNumber">
      <mat-header-cell *matHeaderCellDef> رقم التليفون </mat-header-cell>
      <mat-cell *matCellDef="let user"> {{user.phoneNumber}} </mat-cell>
    </ng-container>
  
    <ng-container  matColumnDef="JobId">
      <th  mat-header-cell *matHeaderCellDef>الوظيفة</th>
      <td mat-cell *matCellDef="let user">
        <mat-select (selectionChange)="onSelectionChange($event)" placeholder="اختار الوظيفة" [value]="user.jobId" >
          <mat-option *ngFor="let option of jobsOptions" [value]="option.id">
            {{ option.nameAr }}
          </mat-option>
        </mat-select>
      </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef>  </mat-header-cell>
      <mat-cell *matCellDef="let user">
        <button mat-icon-button color="primary" (click)="editUser(user)">
          <mat-icon>edit</mat-icon>
        </button>
        <!-- <button mat-icon-button color="warn" (click)="deleteUser(user.id)">
          <mat-icon>delete</mat-icon>
        </button> -->
      </mat-cell>
    </ng-container>
  
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
</mat-card-content>

</mat-card>
